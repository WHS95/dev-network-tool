# DevCurl v2.0.0 - Screen Map ê¸°ëŠ¥ ì„¤ê³„

## ê°œìš”

Chrome DevToolsì—ì„œ Scan ë²„íŠ¼ì„ ëˆ„ë¥´ë©´, í˜„ì¬ í˜ì´ì§€ì˜ ë¼ìš°íŠ¸ ì •ë³´ì™€ í•´ë‹¹ í˜ì´ì§€ì—ì„œ í˜¸ì¶œëœ ëª¨ë“  APIë¥¼ ìº¡ì²˜í•˜ì—¬ "í˜ì´ì§€ â†” API ë§¤í•‘"ì„ ìë™ìœ¼ë¡œ êµ¬ì¶•í•˜ëŠ” ê¸°ëŠ¥.

### í•´ê²°í•˜ëŠ” ë¬¸ì œ

- ë°±ì—”ë“œê°€ ë§Œë“  1000ê°œ API ì¤‘ ì–´ë–¤ ê²ƒì´ ì–´ë–¤ í™”ë©´ì—ì„œ ì“°ì´ëŠ”ì§€ í”„ë¡ íŠ¸ì—”ë“œê°€ ì•Œ ìˆ˜ ì—†ìŒ
- API ìˆ˜ì • ì‹œ ì–´ë–¤ í™”ë©´ì´ ì˜í–¥ë°›ëŠ”ì§€ ì—­ì¶”ì ì´ ë¶ˆê°€ëŠ¥
- SwaggerëŠ” APIì˜ "what"ë§Œ ì•Œë ¤ì£¼ê³ , "where"(ì–´ë””ì„œ ì“°ì´ëŠ”ì§€)ëŠ” ì•Œë ¤ì£¼ì§€ ì•ŠìŒ

### ë™ì‘ íë¦„

1. ê°œë°œìê°€ Next.js ë˜ëŠ” React ì•±ì˜ íŠ¹ì • í˜ì´ì§€ì— ìˆìŒ
2. DevToolsì˜ cURL íŒ¨ë„ì—ì„œ [Scan] ë²„íŠ¼ í´ë¦­
3. í˜„ì¬ í˜ì´ì§€ì˜ ë¼ìš°íŠ¸ + ë„¤íŠ¸ì›Œí¬ ìš”ì²­ + ì‘ë‹µ ìŠ¤í‚¤ë§ˆë¥¼ ìº¡ì²˜
4. chrome.storage.localì— ëˆ„ì  ì €ì¥
5. Screen Map íƒ­ì—ì„œ í˜ì´ì§€ë³„ API ë§¤í•‘ì„ í•œëˆˆì— í™•ì¸
6. JSONìœ¼ë¡œ Exportí•˜ì—¬ íŒ€ê³¼ ê³µìœ  ê°€ëŠ¥

---

## ê¸°ìˆ  êµ¬ì¡°

### íŒŒì¼ ë³€ê²½ ë²”ìœ„

**ì‹ ê·œ íŒŒì¼:**

```
devcurl/
â””â”€â”€ lib/
    â””â”€â”€ screen-scanner.js    # Scan í•µì‹¬ ë¡œì§ (window.ScreenScanner)
```

**ìˆ˜ì • íŒŒì¼:**

| íŒŒì¼ | ìˆ˜ì • ë‚´ìš© |
|------|----------|
| `panel/panel.html` | script ì¶”ê°€, íƒ­ ë²„íŠ¼ + Scan ë²„íŠ¼ + Screen Map ë·° HTML ì¶”ê°€ |
| `panel/panel.js` | íƒ­ ì „í™˜ ë¡œì§, Scan í•¸ë“¤ëŸ¬, Screen Map ë Œë”ë§ í•¨ìˆ˜ ì¶”ê°€ |
| `panel/panel.css` | Screen Map ìŠ¤íƒ€ì¼ ì¶”ê°€ (ê¸°ì¡´ ìŠ¤íƒ€ì¼ ìˆ˜ì • ì—†ìŒ, ë§¨ ì•„ë˜ì— ì¶”ê°€) |
| `manifest.json` | versionì„ "2.0.0"ìœ¼ë¡œ ë³€ê²½ (ê¶Œí•œ ë³€ê²½ ì—†ìŒ) |

**ìˆ˜ì •í•˜ì§€ ì•ŠëŠ” íŒŒì¼:**

- `devtools.html`, `devtools.js` - ë³€ê²½ ë¶ˆí•„ìš”
- `lib/curl-generator.js` - ê·¸ëŒ€ë¡œ ìœ ì§€, Screen Mapì—ì„œ curl ë³µì‚¬ ì‹œ í˜¸ì¶œ
- `lib/header-filter.js` - ê·¸ëŒ€ë¡œ ìœ ì§€
- `lib/code-generator.js` - ê·¸ëŒ€ë¡œ ìœ ì§€
- `settings/*` - ê·¸ëŒ€ë¡œ ìœ ì§€

---

## íƒ­ êµ¬ì¡°

ê¸°ì¡´ íŒ¨ë„ì— íƒ­ì„ ì¶”ê°€í•˜ì—¬ ë‘ ê¸°ëŠ¥ì´ ë…ë¦½ì ìœ¼ë¡œ ë™ì‘.

```
[Requests] [Screen Map]                              [Scan ğŸ”]
```

- `Requests` íƒ­: ê¸°ì¡´ v1.x ê¸°ëŠ¥ ì „ë¶€ ìœ ì§€ (ìš”ì²­ ëª©ë¡, curl/fetch/axios ìƒì„±, ì‘ë‹µ í‘œì‹œ)
- `Screen Map` íƒ­: ìŠ¤ìº” ê²°ê³¼ë¥¼ ë³´ì—¬ì£¼ëŠ” ìƒˆ ë·°
- `Scan` ë²„íŠ¼: ìš°ì¸¡ ìƒë‹¨ì— í•­ìƒ ë…¸ì¶œ, ì–´ë–¤ íƒ­ì—ì„œë“  í´ë¦­ ê°€ëŠ¥

---

## Scan í•µì‹¬ ë¡œì§ (screen-scanner.js)

### 1ë‹¨ê³„: í”„ë ˆì„ì›Œí¬ ê°ì§€ + ë¼ìš°íŠ¸ ì¶”ì¶œ

`chrome.devtools.inspectedWindow.eval()`ë¡œ í˜„ì¬ í˜ì´ì§€ì˜ JavaScript ì»¨í…ìŠ¤íŠ¸ì— ì ‘ê·¼.

**Next.js ê°ì§€:** `window.__NEXT_DATA__` ì¡´ì¬ ì—¬ë¶€ í™•ì¸.

| | Next.js | React / ê¸°íƒ€ |
|---|---|---|
| ë¼ìš°íŠ¸ íŒ¨í„´ | `__NEXT_DATA__.page` â†’ `/users/[id]` (í™•ì‹¤) | `null` (ëª¨ë¦„) |
| í˜„ì¬ URL | `location.pathname` â†’ `/users/3` | `location.pathname` â†’ `/users/3` |
| íŒŒë¼ë¯¸í„° | `__NEXT_DATA__.query` â†’ `{ id: "3" }` (í™•ì‹¤) | `null` (ëª¨ë¦„) |
| SSR Props | `__NEXT_DATA__.props` (í™•ì‹¤) | `null` (ì—†ìŒ) |
| Framework | `"nextjs"` | `"unknown"` |

**ì›ì¹™: ì¶”ì¸¡í•˜ì§€ ì•ŠëŠ”ë‹¤. í™•ì‹¤í•œ ê²ƒë§Œ ì±„ìš°ê³ , ëª¨ë¥´ëŠ” ê²ƒì€ null.**

Reactì—ì„œ `/users/3`ì„ `/users/:id`ë¡œ ì¶”ë¡ í•˜ì§€ ì•ŠëŠ”ë‹¤. ì‹¤ì œ URL ê·¸ëŒ€ë¡œ í‘œì‹œ.

### 2ë‹¨ê³„: ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ìˆ˜ì§‘

`chrome.devtools.network.getHAR()`ë¡œ í˜„ì¬ HAR ë¡œê·¸ë¥¼ ê°€ì ¸ì˜´.

- XHR/Fetchë§Œ í•„í„°ë§ (`_resourceType`ê°€ `xhr` ë˜ëŠ” `fetch`)
- ê° ìš”ì²­ì—ì„œ ì¶”ì¶œ:
  - method, URL ê²½ë¡œ, status, content-type, ì‘ë‹µ ì‹œê°„
  - ìš”ì²­ body: JSONì´ë©´ í‚¤ êµ¬ì¡°(ìŠ¤í‚¤ë§ˆ)ë§Œ ì¶”ì¶œ
  - ì‘ë‹µ body: `entry.getContent()`ë¡œ ê°€ì ¸ì™€ì„œ JSONì´ë©´ í‚¤ êµ¬ì¡°ë§Œ ì¶”ì¶œ

**ìŠ¤í‚¤ë§ˆ ì¶”ì¶œ ì˜ˆì‹œ:**

```javascript
// ì‹¤ì œ ì‘ë‹µ
{ "name": "ê¹€ì² ìˆ˜", "email": "kim@test.com", "age": 25 }

// ì €ì¥ë˜ëŠ” ìŠ¤í‚¤ë§ˆ
{ "name": "string", "email": "string", "age": "number" }
```

ì‘ë‹µ ì „ì²´ë¥¼ ì €ì¥í•˜ì§€ ì•ŠëŠ” ì´ìœ :
- storage ìš©ëŸ‰ ì ˆì•½
- ë¯¼ê°í•œ ë°ì´í„°(ë¹„ë°€ë²ˆí˜¸, í† í° ë“±) ë…¸ì¶œ ë°©ì§€

### 3ë‹¨ê³„: í˜ì´ì§€ ë‚´ ë§í¬ ìˆ˜ì§‘

`chrome.devtools.inspectedWindow.eval()`ë¡œ DOMì—ì„œ `<a href>` íƒœê·¸ë“¤ì„ ì¶”ì¶œ.
ê°™ì€ ë„ë©”ì¸ì˜ ë‚´ë¶€ ë§í¬ë§Œ í•„í„°ë§. ì•„ì§ ìŠ¤ìº” ì•ˆ ëœ í˜ì´ì§€ë¥¼ ì•Œë ¤ì£¼ëŠ” ìš©ë„.

### ìµœì¢… ì¶œë ¥ êµ¬ì¡°

```javascript
{
  route: "/users/[id]",            // Next.jsë©´ í™•ì‹¤, ì•„ë‹ˆë©´ null
  url: "/users/3",                 // í•­ìƒ í™•ì‹¤
  params: { id: "3" },             // Next.jsë©´ í™•ì‹¤, ì•„ë‹ˆë©´ null
  framework: "nextjs",             // "nextjs" ë˜ëŠ” "unknown"
  scannedAt: "2026-02-14T10:30:00Z",
  apis: [
    {
      method: "GET",
      path: "/api/users/3",
      status: 200,
      contentType: "application/json",
      time: 38,
      requestSchema: null,
      responseSchema: { name: "string", email: "string", age: "number" }
    }
  ],
  links: ["/users", "/users/3/edit", "/dashboard"]
}
```

---

## Screen Map íƒ­ UI

### ë ˆì´ì•„ì›ƒ (ì¢Œìš° 2ë¶„í• )

ê¸°ì¡´ Requests íƒ­ê³¼ ë™ì¼í•œ ë ˆì´ì•„ì›ƒ íŒ¨í„´.

### ì¢Œì¸¡ - ìŠ¤ìº”ëœ í˜ì´ì§€ ëª©ë¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ” í˜ì´ì§€ ê²€ìƒ‰        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     â”‚
â”‚ âœ… /users/[id]       â”‚
â”‚    /users/3          â”‚
â”‚    2ë¶„ ì „ Â· API 3ê°œ   â”‚
â”‚                     â”‚
â”‚ âœ… /users            â”‚
â”‚    /users            â”‚
â”‚    5ë¶„ ì „ Â· API 2ê°œ   â”‚
â”‚                     â”‚
â”‚ â¬œ /dashboard        â”‚
â”‚    (ìŠ¤ìº” ì•ˆ ë¨)       â”‚
â”‚                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ğŸ—‘ ì´ˆê¸°í™”] [ğŸ“¤ Export]â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- ìŠ¤ìº” ì™„ë£Œ: ì´ˆë¡ ì²´í¬ + ìŠ¤ìº” ì‹œê° + API ê°œìˆ˜
- ë¯¸ìŠ¤ìº”: ë¹ˆ ì²´í¬ë°•ìŠ¤ + "(ìŠ¤ìº” ì•ˆ ë¨)". ë§í¬ ìˆ˜ì§‘ì—ì„œ ë°œê²¬ëœ í˜ì´ì§€
- ê²€ìƒ‰: URL í…ìŠ¤íŠ¸ë¡œ í•„í„°ë§
- ì´ˆê¸°í™”: ì „ì²´ ìŠ¤ìº” ë°ì´í„° ì‚­ì œ
- Export: JSON íŒŒì¼ ë‹¤ìš´ë¡œë“œ

### ìš°ì¸¡ - ì„ íƒëœ í˜ì´ì§€ ìƒì„¸

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ í˜ì´ì§€ ì •ë³´                          â”‚
â”‚ Route: /users/[id]  (ë˜ëŠ” "ê°ì§€ ë¶ˆê°€")  â”‚
â”‚ URL:   /users/3                       â”‚
â”‚ Framework: nextjs  (ë˜ëŠ” "unknown")    â”‚
â”‚ Scanned: 2026-02-14 10:30:00          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“¡ API í˜¸ì¶œ (3ê°œ)                      â”‚
â”‚                                       â”‚
â”‚ GET /api/users/3              200 38msâ”‚
â”‚ â”Œâ”€ Request: (ì—†ìŒ)                     â”‚
â”‚ â””â”€ Response: { name, email, age }     â”‚
â”‚                              [curlğŸ“‹] â”‚
â”‚                                       â”‚
â”‚ GET /api/users/3/posts        200 52msâ”‚
â”‚ â”Œâ”€ Request: (ì—†ìŒ)                     â”‚
â”‚ â””â”€ Response: [{ title, content }]     â”‚
â”‚                              [curlğŸ“‹] â”‚
â”‚                                       â”‚
â”‚ GET /api/roles                200 12msâ”‚
â”‚ â”Œâ”€ Request: (ì—†ìŒ)                     â”‚
â”‚ â””â”€ Response: ["ADMIN","USER","GUEST"] â”‚
â”‚                              [curlğŸ“‹] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”— ì—°ê²°ëœ í˜ì´ì§€                        â”‚
â”‚ /users (ìŠ¤ìº” ì™„ë£Œ âœ…)                   â”‚
â”‚ /users/3/edit (ìŠ¤ìº” ì•ˆ ë¨ â¬œ)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- ê° APIì˜ [curlğŸ“‹] ë²„íŠ¼: ê¸°ì¡´ CurlGeneratorë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ì—¬ curl ìƒì„± + ë³µì‚¬
- ì‘ë‹µ ìŠ¤í‚¤ë§ˆ: í‚¤ ì´ë¦„ + íƒ€ì…ë§Œ í‘œì‹œ (ì‹¤ì œ ê°’ ì•„ë‹˜)
- ë¯¸ìŠ¤ìº” í˜ì´ì§€ í´ë¦­ ì‹œ: "í•´ë‹¹ í˜ì´ì§€ë¡œ ì´ë™ í›„ Scanì„ ëˆŒëŸ¬ì£¼ì„¸ìš”" ì•ˆë‚´

### í…Œë§ˆ

ê¸°ì¡´ panel.cssì˜ CSS ë³€ìˆ˜ë¥¼ ë™ì¼í•˜ê²Œ ì‚¬ìš©í•˜ì—¬ ë‹¤í¬/ë¼ì´íŠ¸ ìë™ ëŒ€ì‘.

---

## ë°ì´í„° ì €ì¥

### ì €ì¥ì†Œ: chrome.storage.local

`chrome.storage.sync`ëŠ” 100KB ì œí•œìœ¼ë¡œ ë¶€ì¡±. `chrome.storage.local`ì€ 10MBê¹Œì§€ ì‚¬ìš© ê°€ëŠ¥.

ì €ì¥ í‚¤: `devcurl_screen_map`

```javascript
{
  "devcurl_screen_map": {
    "version": "2.0.0",
    "pages": {
      "/users/3": {
        "route": "/users/[id]",
        "url": "/users/3",
        "params": { "id": "3" },
        "framework": "nextjs",
        "scannedAt": "2026-02-14T10:30:00Z",
        "apis": [ ... ],
        "links": ["/users", "/users/3/edit"]
      },
      "/users": { ... }
    }
  }
}
```

### ë™ì‘ ê·œì¹™

- ê°™ì€ URLì„ ë‹¤ì‹œ Scan: ê¸°ì¡´ ë°ì´í„°ë¥¼ ë®ì–´ì”€ (ìµœì‹  ìƒíƒœë¡œ ê°±ì‹ )
- ë‹¤ë¥¸ URLì„ Scan: pagesì— ì¶”ê°€ë¨

### Export

Export ë²„íŠ¼ í´ë¦­ ì‹œ `devcurl-screen-map-YYYY-MM-DD.json` íŒŒì¼ë¡œ ë‹¤ìš´ë¡œë“œ.
chrome.storage.localì— ìˆëŠ” êµ¬ì¡°ë¥¼ ê·¸ëŒ€ë¡œ ë‚´ë³´ëƒ„.

### Manifest ë³€ê²½

ê¸°ì¡´ `"permissions": ["storage"]`ë¡œ chrome.storage.local ì´ë¯¸ ì‚¬ìš© ê°€ëŠ¥. ê¶Œí•œ ì¶”ê°€ ë¶ˆí•„ìš”.
versionë§Œ "2.0.0"ìœ¼ë¡œ ë³€ê²½.

---

## êµ¬í˜„ ë²”ìœ„

### v2.0.0 (ì´ë²ˆ ë²„ì „)

| ê¸°ëŠ¥ | ì„¤ëª… |
|------|------|
| Scan ë²„íŠ¼ | í˜„ì¬ í˜ì´ì§€ì˜ ë¼ìš°íŠ¸ + API + ì‘ë‹µ ìŠ¤í‚¤ë§ˆ ìº¡ì²˜ |
| í”„ë ˆì„ì›Œí¬ ê°ì§€ | Next.js (í™•ì‹¤í•œ ì •ë³´) / unknown (URLë§Œ) |
| Screen Map íƒ­ | ìŠ¤ìº”ëœ í˜ì´ì§€ë³„ API ë§¤í•‘ ë·° |
| ëˆ„ì  ì €ì¥ | chrome.storage.localì— ìŠ¤ìº” ê²°ê³¼ ëˆ„ì  |
| JSON Export | ìŠ¤ìº” ë§µì„ JSON íŒŒì¼ë¡œ ë‹¤ìš´ë¡œë“œ |
| ê¸°ì¡´ ê¸°ëŠ¥ ìœ ì§€ | Requests íƒ­ì˜ curl/fetch/axios ìƒì„±, í•„í„°, ì„¤ì • ì „ë¶€ ìœ ì§€ |

### í¬í•¨í•˜ì§€ ì•ŠëŠ” ê²ƒ (YAGNI)

| ê¸°ëŠ¥ | ì´ìœ  |
|------|------|
| Import | íŒ€ ê³µìœ  ìˆ˜ìš”ê°€ ì‹¤ì œ í™•ì¸ë˜ë©´ ì¶”ê°€ |
| ìë™ í¬ë¡¤ë§ | ë³µì¡ë„ ë†’ìŒ, Scan ë²„íŠ¼ìœ¼ë¡œ ì¶©ë¶„ |
| Swagger ì—°ë™ | ë³„ë„ ê¸°ëŠ¥ìœ¼ë¡œ ë¶„ë¦¬ ê°€ëŠ¥, ì´ë²ˆ ë²”ìœ„ ì•„ë‹˜ |
| URL íŒ¨í„´ ì¶”ë¡  | ì¶”ì¸¡ë³´ë‹¤ í™•ì‹¤í•¨ ìš°ì„  ì›ì¹™ |

---

## ê¸°ìˆ  ìŠ¤íƒ

- Manifest V3 - ê¸°ì¡´ê³¼ ë™ì¼
- Vanilla JS - ì˜ì¡´ì„± ì—†ì´ ê°€ë³ê²Œ
- CSS ë³€ìˆ˜ - ê¸°ì¡´ í…Œë§ˆ ì‹œìŠ¤í…œ ì¬ì‚¬ìš©
- chrome.storage.local - ìŠ¤ìº” ë°ì´í„° ì €ì¥
- chrome.devtools.inspectedWindow.eval() - í˜ì´ì§€ ì»¨í…ìŠ¤íŠ¸ ì ‘ê·¼
- chrome.devtools.network.getHAR() - ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ìˆ˜ì§‘
